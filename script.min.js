document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".page"),t=document.querySelectorAll(".nav-dot"),o=document.querySelector(".scroll-indicator");let r,n,c=0;function a(){const r=window.pageYOffset||document.documentElement.scrollTop,n=window.innerHeight;e.forEach((e,a)=>{const s=e.offsetTop,l=s+e.offsetHeight,i=r+n/2;i>=s&&i<l&&c!==a&&(c=a,t.forEach((e,t)=>{t===a?(e.classList.add("active"),e.setAttribute("aria-current","true")):(e.classList.remove("active"),e.removeAttribute("aria-current"))}),o&&(o.style.display=0===a?"block":"none"))})}t.forEach((t,o)=>{t.addEventListener("click",()=>{e[o].scrollIntoView({behavior:"smooth",block:"start"})})}),window.addEventListener("scroll",()=>{r&&clearTimeout(r),r=setTimeout(a,50)}),document.addEventListener("keydown",t=>{switch(t.key){case"PageDown":c<e.length-1&&e[c+1].scrollIntoView({behavior:"smooth",block:"start"});break;case"PageUp":c>0&&e[c-1].scrollIntoView({behavior:"smooth",block:"start"});break;case"Home":(t.ctrlKey||t.metaKey)&&(t.preventDefault(),e[0].scrollIntoView({behavior:"smooth",block:"start"}));break;case"End":(t.ctrlKey||t.metaKey)&&(t.preventDefault(),e[e.length-1].scrollIntoView({behavior:"smooth",block:"start"}))}}),a(),window.addEventListener("resize",()=>{n&&clearTimeout(n),n=setTimeout(a,100)})});