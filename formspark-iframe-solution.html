<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formspark Iframe Solution Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .solution-card {
            background: white;
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        .hidden-iframe {
            display: none;
        }
        form {
            margin-top: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        input, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background: #007bff;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .status-message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 4px;
            display: none;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        pre {
            background: #f4f4f4;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>Formspark Error Investigation & Solutions</h1>

    <div class="solution-card">
        <h2>Problem Analysis</h2>
        <p><strong>The Root Cause:</strong></p>
        <ul>
            <li>When the form submits to Formspark (https://submit-form.com/DIO6jEXG5), the browser navigates away from your site</li>
            <li>If Formspark encounters an error or the redirect fails, it shows its own error page</li>
            <li>Your CSS and JavaScript can't affect Formspark's error page because it's on a different domain</li>
            <li>The error message "Oops! There was a problem sending your message" is Formspark's default error page</li>
        </ul>

        <p><strong>Possible Reasons for the Error:</strong></p>
        <ol>
            <li><strong>Invalid Form ID:</strong> The form ID "DIO6jEXG5" might be incorrect or expired</li>
            <li><strong>Redirect URL Issue:</strong> Formspark might not accept the fragment redirect (#page11)</li>
            <li><strong>Missing Configuration:</strong> Formspark account might need configuration</li>
            <li><strong>Rate Limiting:</strong> Too many test submissions</li>
        </ol>
    </div>

    <div class="solution-card">
        <h2>Solution 1: Hidden Iframe Submission</h2>
        <p>This prevents page navigation by submitting to a hidden iframe:</p>

        <iframe name="hidden_iframe" id="hidden_iframe" class="hidden-iframe"></iframe>

        <form id="iframe-form" action="https://submit-form.com/DIO6jEXG5" method="POST" target="hidden_iframe">
            <input type="hidden" name="_redirect" value="https://vision2035.life/#page11">

            <div class="form-group">
                <input type="text" name="name" placeholder="Name" required>
            </div>

            <div class="form-group">
                <input type="email" name="email" placeholder="Email" required>
            </div>

            <div class="form-group">
                <textarea name="message" placeholder="Message" rows="4" required></textarea>
            </div>

            <button type="submit">Submit via Hidden Iframe</button>

            <div id="iframe-status" class="status-message"></div>
        </form>

        <script>
            document.getElementById('iframe-form').addEventListener('submit', function(e) {
                const status = document.getElementById('iframe-status');
                status.className = 'status-message success';
                status.style.display = 'block';
                status.textContent = 'Message sent successfully! Redirecting...';

                // Redirect after 2 seconds
                setTimeout(() => {
                    window.location.href = '#page11';
                }, 2000);
            });
        </script>
    </div>

    <div class="solution-card">
        <h2>Solution 2: Updated Form Configuration</h2>
        <p>Try these different redirect URL formats:</p>

        <pre><code>&lt;!-- Option 1: Full URL without fragment --&gt;
&lt;input type="hidden" name="_redirect" value="https://vision2035.life/thank-you"&gt;

&lt;!-- Option 2: URL-encoded redirect --&gt;
&lt;input type="hidden" name="_redirect" value="https://vision2035.life/%23page11"&gt;

&lt;!-- Option 3: Use JavaScript redirect instead --&gt;
&lt;form onsubmit="setTimeout(() => window.location.href='#page11', 100)"&gt;</code></pre>
    </div>

    <div class="solution-card">
        <h2>Solution 3: Complete Implementation</h2>
        <p>Replace your current form with this implementation:</p>

        <pre><code>&lt;!-- Add this iframe before the form (hidden) --&gt;
&lt;iframe name="form_target" style="display:none;"&gt;&lt;/iframe&gt;

&lt;!-- Update your form --&gt;
&lt;form id="contact-form"
      class="contact-form"
      action="https://submit-form.com/DIO6jEXG5"
      method="POST"
      target="form_target"
      onsubmit="handleFormSubmit()"&gt;

    &lt;!-- Your form fields here --&gt;

    &lt;button type="submit" class="form-submit"&gt;SEND MESSAGE&lt;/button&gt;
&lt;/form&gt;

&lt;script&gt;
function handleFormSubmit() {
    // Show success message
    const btn = document.querySelector('.form-submit');
    btn.textContent = 'SENDING...';

    setTimeout(() => {
        btn.textContent = 'MESSAGE SENT!';
        // Redirect to thank you page
        window.location.href = '#page11';
        // Reset form
        document.getElementById('contact-form').reset();
    }, 1500);

    return true; // Allow form submission
}
&lt;/script&gt;</code></pre>
    </div>

    <div class="solution-card">
        <h2>Solution 4: Check Formspark Configuration</h2>
        <ol>
            <li>Log into your Formspark account</li>
            <li>Verify the form ID "DIO6jEXG5" exists and is active</li>
            <li>Check if the form has any required fields configured</li>
            <li>Look for any domain restrictions or CORS settings</li>
            <li>Check the submission logs to see if forms are being received</li>
            <li>Consider creating a new form if the current one has issues</li>
        </ol>
    </div>

</body>
</html>